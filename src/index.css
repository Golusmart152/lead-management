@import "tailwindcss";
@import './design-system.css';

/* =============================================================================
   INDEX.CSS - UNIQUE UTILITIES AND COMPONENTS
   Only contains styles that are not already defined in design-system.css
   ============================================================================= */

@layer base {
  /* Global box-sizing and prevent horizontal overflow */
  * {
    box-sizing: border-box;
  }
  
  html {
    height: 100%;
    scroll-behavior: smooth;
  }
   
  body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
   
  #root {
    height: 100%;
  }

  /* Enhanced text overflow prevention */
  h1, h2, h3, h4, h5, h6,
  p, span, div,
  label, a, button,
  .text-content {
    max-width: 100%;
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
  }
}

@layer components {
  /* Dialog enhancements (unique to index.css) */
  [data-radix-dialog-portal] {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 9999;
    pointer-events: none;
  }
  
  [data-radix-dialog-portal] > div {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  [data-radix-dialog-content] {
    pointer-events: all;
  }

  /* Unique scrollbar styling */
  .scrollbar-thin {
    -ms-overflow-style: -ms-autohiding-scrollbar;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: var(--gray-3);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: var(--blue-8);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: var(--blue-9);
  }

  /* Unique glass morphism effects (not in design-system.css) */
  .glass {
    background: var(--gray-a2);
    -webkit-backdrop-filter: blur(16px);
    backdrop-filter: blur(16px);
    border: 1px solid var(--blue-7);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .glass-dark {
    background: var(--gray-a2);
    -webkit-backdrop-filter: blur(18px);
    backdrop-filter: blur(18px);
    border: 1px solid var(--blue-7);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .glass-subtle {
    background: var(--gray-a1);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--blue-6);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  .glass-solid {
    background: var(--background);
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);
    border: 1px solid var(--blue-6);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* Unique shadow effects */
  .shadow-glow {
    box-shadow: 0 0 20px var(--blue-8);
  }

  .shadow-glow-success {
    box-shadow: 0 0 20px #22c55e;
  }

  .shadow-glow-warning {
    box-shadow: 0 0 20px #f59e0b;
  }

  .shadow-glow-error {
    box-shadow: 0 0 20px #ef4444;
  }

  /* Unique gradient backgrounds */
  .bg-gradient-primary {
    background: linear-gradient(to right, var(--blue-9), var(--blue-7), var(--blue-9));
  }

  .bg-gradient-card {
    background: linear-gradient(to bottom right, var(--card), var(--card) / 0.8);
  }

  /* Status indicators (unique styling) */
  .status-new {
    background: var(--blue-3);
    color: var(--blue-11);
    border-color: var(--blue-6);
  }

  .status-contacted {
    background: #fef3c7;
    color: #92400e;
    border-color: #fde68a;
  }

  .status-qualified {
    background: #e9d5ff;
    color: #6b21a8;
    border-color: #d8b4fe;
  }

  .status-proposal {
    background: #fed7aa;
    color: #9a3412;
    border-color: #fdba74;
  }

  .status-negotiation {
    background: var(--blue-3);
    color: var(--blue-11);
    border-color: var(--blue-6);
  }

  .status-won {
    background: #dcfce7;
    color: #166534;
    border-color: #bbf7d0;
  }

  .status-lost {
    background: #fee2e2;
    color: #991b1b;
    border-color: #fecaca;
  }

  .status-unqualified {
    background: var(--gray-3);
    color: var(--gray-8);
    border-color: var(--gray-6);
  }
}

@layer utilities {
  /* Unique text utilities (not covered by design-system.css or Tailwind) */
  .text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
  }

  .text-wrap {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    max-width: 100%;
  }

  /* Flex utilities to prevent overflow issues */
  .flex {
    min-width: 0;
  }
}

/* =============================================================================
   RESPONSIVE ENHANCEMENTS - ONLY UNIQUE ONES
   ============================================================================= */

/* Mobile-specific enhancements not covered by design-system.css */
@media (max-width: 768px) {
  /* Enhanced mobile text sizing for better readability */
  .text-2xl {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }
  
  .text-xl {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }
  
  .text-lg {
    font-size: 1.125rem !important;
    line-height: 1.75rem !important;
  }

  /* Mobile text alignment improvements */
  h1, h2, h3, h4, h5, h6 {
    text-align: left;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
}

/* =============================================================================
   DARK THEME FIXES - ONLY CRITICAL OVERRIDES
   ============================================================================= */

.dark, .dark-theme {
  /* Fix hardcoded colors that break dark theme */
  .text-red-500,
  .text-red-600,
  .text-red-700,
  [style*="color: red"],
  [style*="color:#ff0000"],
  [style*="color: #ff0000"] {
    color: var(--blue-11) !important;
  }

  /* Fix hardcoded black text */
  *[style*="color: black"],
  *[style*="color:#000"],
  *[style*="color:#000000"] {
    color: var(--foreground) !important;
  }
}

/* =============================================================================
   LAYOUT UTILITIES - UNIQUE SIDEBAR HANDLING
   ============================================================================= */

/* Sidebar layout - consolidated single rule */
.main-content-area {
  margin-left: 0;
  transition: margin-left 0.3s ease;
}

@media (min-width: 768px) {
  .main-content-area.has-sidebar {
    margin-left: 16rem;
  }
}
